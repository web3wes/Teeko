(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{2717:function(e,t,n){"use strict";n.r(t);var r=n(85893),s=n(809),a=n.n(s),c=n(92447),i=n(74047),o=n(52700),l=n(4706),u=n(8127),p=n(44102),d=n(20775),h=n(26265),f=n(67294),m=n(36243),v=n(60416),Z=n(68788),g=n(48237),y=n(68251),x=n(3542),N=n(27904),k=n(62151);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var s=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var w=function(e){(0,u.Z)(n,e);var t=j(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,h.Z)((0,l.Z)(e),"state",{value:"",description:"",recipient:"",loading:!1,errorMessage:""}),(0,h.Z)((0,l.Z)(e),"onSubmit",function(){var t=(0,c.Z)(a().mark((function t(n){var r,s,c,i,o,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=(0,y.Z)(e.props.address),s=e.state,c=s.description,i=s.value,o=s.recipient,e.setState({loading:!0,errorMessage:""}),t.prev=4,t.next=7,x.Z.eth.getAccounts();case 7:return l=t.sent,t.next=10,r.methods.createRequest(c,x.Z.utils.toWei(i,"ether"),o).send({from:l[0]});case 10:N.Router.pushRoute("/campaigns/".concat(e.props.address,"/requests")),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),e.setState({errorMessage:t.t0.message});case 16:e.setState({loading:!1});case 17:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this;return(0,r.jsxs)(k.Z,{children:[(0,r.jsx)(N.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,r.jsx)("a",{children:"Back"})}),(0,r.jsx)("h3",{children:"Create a Request"}),(0,r.jsxs)(m.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,r.jsxs)(m.Z.Field,{children:[(0,r.jsx)("label",{children:"Description"}),(0,r.jsx)(v.Z,{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})]}),(0,r.jsxs)(m.Z.Field,{children:[(0,r.jsx)("label",{children:"Value in Ether"}),(0,r.jsx)(v.Z,{value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}})]}),(0,r.jsxs)(m.Z.Field,{children:[(0,r.jsx)("label",{children:"Recipient"}),(0,r.jsx)(v.Z,{value:this.state.recipient,onChange:function(t){return e.setState({recipient:t.target.value})}})]}),(0,r.jsx)(Z.Z,{error:!0,header:"Oops!",content:this.state.errorMessage}),(0,r.jsx)(g.Z,{primary:!0,loading:this.state.loading,children:"Create!"})]})]})}}],[{key:"getInitialProps",value:function(){var e=(0,c.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.address,console.log(t),e.abrupt("return",{address:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(f.Component);t.default=w},76306:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/requests/new",function(){return n(2717)}])},68788:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(22122),s=n(93552),a=n(55288),c=n(86010),i=(n(45697),n(67294)),o=n(92063),l=n(28935),u=n(12519),p=n(92248),d=n(17186),h=n(65382);function f(e){var t=e.children,n=e.className,s=e.content,a=(0,c.default)("content",n),o=(0,l.Z)(f,e),d=(0,u.Z)(f,e);return i.createElement(d,(0,r.Z)({},o,{className:a}),p.kK(t)?s:t)}f.handledProps=["as","children","className","content"],f.propTypes={};var m=f;function v(e){var t=e.children,n=e.className,s=e.content,a=(0,c.default)("header",n),o=(0,l.Z)(v,e),d=(0,u.Z)(v,e);return i.createElement(d,(0,r.Z)({},o,{className:a}),p.kK(t)?s:t)}v.handledProps=["as","children","className","content"],v.propTypes={},v.create=(0,d.u5)(v,(function(e){return{content:e}}));var Z=v,g=n(36744);function y(e){var t=e.children,n=e.className,s=e.content,a=(0,c.default)("content",n),o=(0,l.Z)(y,e),d=(0,u.Z)(y,e);return i.createElement(d,(0,r.Z)({},o,{className:a}),p.kK(t)?s:t)}y.handledProps=["as","children","className","content"],y.propTypes={},y.defaultProps={as:"li"},y.create=(0,d.u5)(y,(function(e){return{content:e}}));var x=y;function N(e){var t=e.children,n=e.className,s=e.items,a=(0,c.default)("list",n),o=(0,l.Z)(N,e),d=(0,u.Z)(N,e);return i.createElement(d,(0,r.Z)({},o,{className:a}),p.kK(t)?(0,g.Z)(s,x.create):t)}N.handledProps=["as","children","className","items"],N.propTypes={},N.defaultProps={as:"ul"},N.create=(0,d.u5)(N,(function(e){return{items:e}}));var k=N,j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return(0,s.Z)(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,s=e.children,f=e.className,v=e.color,g=e.compact,y=e.content,x=e.error,N=e.floating,j=e.header,w=e.hidden,G=e.icon,E=e.info,b=e.list,_=e.negative,C=e.onDismiss,P=e.positive,R=e.size,S=e.success,D=e.visible,K=e.warning,T=(0,c.default)("ui",v,R,(0,o.lG)(g,"compact"),(0,o.lG)(x,"error"),(0,o.lG)(N,"floating"),(0,o.lG)(w,"hidden"),(0,o.lG)(G,"icon"),(0,o.lG)(E,"info"),(0,o.lG)(_,"negative"),(0,o.lG)(P,"positive"),(0,o.lG)(S,"success"),(0,o.lG)(D,"visible"),(0,o.lG)(K,"warning"),(0,o.sU)(n,"attached"),"message",f),q=C&&i.createElement(h.Z,{name:"close",onClick:this.handleDismiss}),M=(0,l.Z)(t,this.props),A=(0,u.Z)(t,this.props);return p.kK(s)?i.createElement(A,(0,r.Z)({},M,{className:T}),q,h.Z.create(G,{autoGenerateKey:!1}),(!(0,a.Z)(j)||!(0,a.Z)(y)||!(0,a.Z)(b))&&i.createElement(m,null,Z.create(j,{autoGenerateKey:!1}),k.create(b,{autoGenerateKey:!1}),(0,d.BU)(y,{autoGenerateKey:!1}))):i.createElement(A,(0,r.Z)({},M,{className:T}),q,s)},t}(i.Component);j.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],j.propTypes={},j.Content=m,j.Header=Z,j.List=k,j.Item=x}},function(e){e.O(0,[774,482,351,959,831,243,876,888,179],(function(){return t=76306,e(e.s=t);var t}));var t=e.O();_N_E=t}]);